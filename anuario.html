<!DOCTYPE html>
<html>
<head>
    <title>Image Text Overlay</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
  
</head>
<body>
    <input type="text" id="textInput" placeholder="Ano do anuário">
    <input type="text" id="textInput2" placeholder="Comitê XYZ">
    </select>
    <button onclick="generateImage()">Generate Image</button>
    <canvas id="canvas" style="display:none;"></canvas>
    <a id="downloadLink" style="display:none;">Download</a>
<script>
function generateImage() {
    const ano = document.getElementById('textInput').value;
    const text = document.getElementById('textInput2').value;
    const fontSize = 200;
    const fontSize2 = 170.83;
    const imagePath = 'https://raw.githubusercontent.com/ifmsabrazilunifor/ifmsabrazilunifor.github.io/main/anuario/arquivo_base.png'; // URL to the image
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    const img = new Image();
    img.crossOrigin = 'Anonymous'; // This line is important for loading images from a different domain
    img.onload = function() {
        canvas.width = img.width;
        canvas.height = img.height;
        ctx.drawImage(img, 0, 0);
        ctx.font = `bold ${fontSize}px Poppins`; // Using Poppins font
        ctx.fillStyle = '#03589b';
        ctx.fillText(ano, 152, 1072); // Adjust text positioning as needed

        ctx.font = `500 ${fontSize2}px Poppins`; // Using Poppins font
        ctx.fillStyle = '#03589b';
        ctx.fillText(text, 159, 1327); // Adjust text positioning as needed

        createDownloadLink(canvas.toDataURL('image/png'));
    };
    img.src = imagePath;
}

function createDownloadLink(dataUrl) {
    const link = document.getElementById('downloadLink');
    link.href = dataUrl;
    link.download = 'modified-image.png';
    link.style.display = 'block';
    link.textContent = 'Download Image';
}

</script>
</body>
</html>
